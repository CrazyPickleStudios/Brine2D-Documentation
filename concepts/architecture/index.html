
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Deep dive into Brine2D's modular architecture and design patterns">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../dependency-injection/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Architecture - Brine2D Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/prism-material-slate.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Brine2D Documentation" class="md-header__button md-logo" aria-label="Brine2D Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Brine2D Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Brine2D Documentation" class="md-nav__button md-logo" aria-label="Brine2D Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Brine2D Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    What's New
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    What's New
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats-new/v0.8.0-beta.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v0.8.0-beta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats-new/v0.7.0-beta.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v0.7.0-beta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whats-new/v0.6.0-beta.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    v0.6.0-beta
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/first-game/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Your First Game
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/project-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/moving-sprites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Moving Sprites
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/animations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Animation System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/collision.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collision Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/platformer.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building a Platformer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/top-down.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Top-Down Adventure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Rendering
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rendering
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/choosing-renderer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Choosing a Renderer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/gpu-renderer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPU Renderer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/sprites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sprites & Textures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/texture-atlasing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Texture Atlasing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/cameras/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cameras
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/particles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Particles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rendering/primitives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Drawing Primitives
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Input
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Input
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/input/keyboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Keyboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/input/mouse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mouse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/input/gamepad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gamepad Support
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/input/layers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input Layers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Audio
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Audio
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/audio/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/audio/sound-effects.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sound Effects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/audio/music.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Music Playback
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/audio/spatial-audio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spatial Audio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Scenes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Scenes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/scenes/lifecycle.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/scenes/transitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Transitions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/scenes/lifecycle-hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lifecycle Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Collision
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Collision
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/collision/system.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collision System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/collision/colliders.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Colliders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tilemaps
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tilemaps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/tilemaps/loading.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Loading Tilemaps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/tilemaps/rendering.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rendering Tiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    UI Framework
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    UI Framework
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ui/components.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ui/custom.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom UI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Entity Component System
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Entity Component System
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ecs/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ecs/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ecs/systems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ecs/entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ecs/queries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Events
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Events
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/events/window-events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Window Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architectural-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architectural Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audio-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audio Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-systems-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Systems Modules
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependency Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-responsibilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Layer Responsibilities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer Responsibilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-application-layer-brine2dhosting" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Application Layer (Brine2D.Hosting)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-engine-layer-brine2dengine" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Engine Layer (Brine2D.Engine)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-core-layer-brine2dcore" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Core Layer (Brine2D.Core)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rendering-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Rendering Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Rendering Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2drendering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Rendering)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2drenderingsdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Rendering.SDL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-bridge-brine2drenderingecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Bridge (Brine2D.Rendering.ECS)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-input-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Input Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Input Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2dinput" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Input)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2dinputsdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Input.SDL)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-audio-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Audio Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Audio Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2daudio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Audio)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2daudiosdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Audio.SDL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-bridge-brine2daudioecs-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Bridge (Brine2D.Audio.ECS) (NEW in v0.8.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-game-systems-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Game Systems Layer
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-patterns-used" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Patterns Used
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Initialization Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-loop-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Loop Flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extension Points
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extension Points">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-custom-scenes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Custom Scenes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-custom-systems" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Custom Systems
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-custom-renderers" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Custom Renderers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-custom-input-layers" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Custom Input Layers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-custom-audio-components-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Custom Audio Components (NEW in v0.8.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frame-budget" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frame Budget
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimization-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimization Techniques
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-safety" class="md-nav__link">
    <span class="md-ellipsis">
      
        Thread Safety
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's New in v0.8.0
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What&#39;s New in v0.8.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rendering-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Utilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spatial-audio-ecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Spatial Audio (ECS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhanced-particle-system-ecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enhanced Particle System (ECS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audio-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audio Improvements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptual-distinctions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conceptual Distinctions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conceptual Distinctions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rendering-utilities-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Utilities (Performance)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-systems-logic-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Systems (Logic &amp; State)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependency-injection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependency Injection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../game-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Game Loop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builder-pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Builder Pattern
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../entity-component-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Component System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brine2D.Core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rendering.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brine2D.Rendering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/input.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brine2D.Input
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/audio.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brine2D.Audio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/ecs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brine2D.ECS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Samples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Samples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/basic-game.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic Game
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/animation-demo.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Animation Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/collision-demo.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Collision Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../samples/ecs-demo.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ECS Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/code-style.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/building.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building from Source
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architectural-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architectural Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#module-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Module Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Module Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Input Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audio-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audio Modules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-systems-modules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Systems Modules
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependency-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependency Flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layer-responsibilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Layer Responsibilities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer Responsibilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-application-layer-brine2dhosting" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Application Layer (Brine2D.Hosting)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-engine-layer-brine2dengine" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Engine Layer (Brine2D.Engine)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-core-layer-brine2dcore" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Core Layer (Brine2D.Core)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-rendering-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Rendering Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Rendering Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2drendering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Rendering)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2drenderingsdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Rendering.SDL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-bridge-brine2drenderingecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Bridge (Brine2D.Rendering.ECS)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-input-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Input Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Input Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2dinput" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Input)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2dinputsdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Input.SDL)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-audio-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Audio Layer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Audio Layer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstractions-brine2daudio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstractions (Brine2D.Audio)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-brine2daudiosdl" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementation (Brine2D.Audio.SDL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecs-bridge-brine2daudioecs-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        ECS Bridge (Brine2D.Audio.ECS) (NEW in v0.8.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-game-systems-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Game Systems Layer
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-patterns-used" class="md-nav__link">
    <span class="md-ellipsis">
      
        Design Patterns Used
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Initialization Flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-loop-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Loop Flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-points" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extension Points
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Extension Points">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-custom-scenes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Custom Scenes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-custom-systems" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Custom Systems
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-custom-renderers" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Custom Renderers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-custom-input-layers" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Custom Input Layers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-custom-audio-components-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Custom Audio Components (NEW in v0.8.0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frame-budget" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frame Budget
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimization-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optimization Techniques
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thread-safety" class="md-nav__link">
    <span class="md-ellipsis">
      
        Thread Safety
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-new-in-v080" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's New in v0.8.0
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What&#39;s New in v0.8.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rendering-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Utilities
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spatial-audio-ecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Spatial Audio (ECS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enhanced-particle-system-ecs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enhanced Particle System (ECS)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audio-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Audio Improvements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptual-distinctions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conceptual Distinctions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conceptual Distinctions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rendering-utilities-performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering Utilities (Performance)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#game-systems-logic-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Game Systems (Logic &amp; State)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h1>
<p>Brine2D follows a <strong>layered, modular architecture</strong> inspired by ASP.NET Core. This design promotes separation of concerns, testability, and extensibility.</p>
<h2 id="architectural-overview">Architectural Overview<a class="headerlink" href="#architectural-overview" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>graph TB
    subgraph "Application Layer"
        APP["GameApplication"]
        BUILDER["GameApplicationBuilder"]
    end

    subgraph "Engine Layer"
        ENGINE["GameEngine"]
        LOOP["GameLoop"]
        SCENEMGR["SceneManager"]
        CONTEXT["GameContext"]
    end

    subgraph "Core Abstractions"
        ISCENE["IScene"]
        IRENDERER["IRenderer"]
        IINPUT["IInputService"]
        IAUDIO["IAudioService"]
    end

    subgraph "SDL3 Implementations"
        SDL_RENDER["SDL3Renderer / SDL3GPURenderer"]
        SDL_INPUT["SDL3InputService"]
        SDL_AUDIO["SDL3AudioService"]
    end

    subgraph "ECS Layer"
        ECS["EntityWorld"]
        SYSTEMS["Systems (Rendering, Audio, etc.)"]
    end

    subgraph "Game Systems"
        COLLISION["CollisionSystem"]
        ANIMATION["SpriteAnimator"]
        TILEMAP["TilemapRenderer"]
        UI["UICanvas"]
    end

    subgraph "Your Game"
        SCENES["MenuScene, GameScene, etc."]
    end

    APP --&gt; ENGINE
    BUILDER --&gt; APP
    ENGINE --&gt; LOOP
    ENGINE --&gt; SCENEMGR
    ENGINE --&gt; CONTEXT

    SCENEMGR --&gt; ISCENE
    ISCENE --&gt; SCENES

    ENGINE --&gt; IRENDERER
    ENGINE --&gt; IINPUT
    ENGINE --&gt; IAUDIO

    IRENDERER --&gt; SDL_RENDER
    IINPUT --&gt; SDL_INPUT
    IAUDIO --&gt; SDL_AUDIO

    SCENES --&gt; ECS
    ECS --&gt; SYSTEMS

    SCENES --&gt; COLLISION
    SCENES --&gt; ANIMATION
    SCENES --&gt; TILEMAP
    SCENES --&gt; UI

    style APP fill:#1e3a5f,stroke:#569cd6,stroke-width:2px,color:#fff
    style BUILDER fill:#1e3a5f,stroke:#569cd6,stroke-width:2px,color:#fff
    style ENGINE fill:#2d5016,stroke:#4ec9b0,stroke-width:2px,color:#fff
    style LOOP fill:#2d5016,stroke:#4ec9b0,stroke-width:2px,color:#fff
    style SCENEMGR fill:#2d5016,stroke:#4ec9b0,stroke-width:2px,color:#fff
    style CONTEXT fill:#2d5016,stroke:#4ec9b0,stroke-width:2px,color:#fff
    style ISCENE fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style IRENDERER fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style IINPUT fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style IAUDIO fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style SDL_RENDER fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style SDL_INPUT fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style SDL_AUDIO fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style ECS fill:#3d4a1f,stroke:#b5ce78,stroke-width:2px,color:#fff
    style SYSTEMS fill:#3d4a1f,stroke:#b5ce78,stroke-width:2px,color:#fff
    style COLLISION fill:#4a3d1f,stroke:#ce9178,stroke-width:2px,color:#fff
    style ANIMATION fill:#4a3d1f,stroke:#ce9178,stroke-width:2px,color:#fff
    style TILEMAP fill:#4a3d1f,stroke:#ce9178,stroke-width:2px,color:#fff
    style UI fill:#4a3d1f,stroke:#ce9178,stroke-width:2px,color:#fff
    style SCENES fill:#264f78,stroke:#4fc1ff,stroke-width:2px,color:#fff</code></pre>
<hr />
<h2 id="module-structure">Module Structure<a class="headerlink" href="#module-structure" title="Permanent link">&para;</a></h2>
<p>Brine2D is organized into distinct modules, each with a specific responsibility:</p>
<h3 id="core-modules">Core Modules<a class="headerlink" href="#core-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.Core</strong></td>
<td>Core abstractions and interfaces</td>
<td><code>IScene</code>, <code>GameTime</code>, <code>EventBus</code></td>
</tr>
<tr>
<td><strong>Brine2D.Engine</strong></td>
<td>Game loop and scene management</td>
<td><code>GameEngine</code>, <code>GameLoop</code>, <code>SceneManager</code></td>
</tr>
<tr>
<td><strong>Brine2D.Hosting</strong></td>
<td>Application hosting (ASP.NET-like)</td>
<td><code>GameApplication</code>, <code>GameApplicationBuilder</code></td>
</tr>
</tbody>
</table>
<h3 id="ecs-modules">ECS Modules<a class="headerlink" href="#ecs-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.ECS</strong></td>
<td>Entity Component System</td>
<td><code>EntityWorld</code>, <code>Entity</code>, <code>Component</code>, <code>ISystem</code></td>
</tr>
<tr>
<td><strong>Brine2D.Rendering.ECS</strong></td>
<td>ECS rendering systems</td>
<td><code>SpriteRenderingSystem</code>, <code>ParticleSystem</code>, <code>CameraSystem</code></td>
</tr>
<tr>
<td><strong>Brine2D.Input.ECS</strong></td>
<td>ECS input systems</td>
<td><code>PlayerControllerSystem</code></td>
</tr>
<tr>
<td><strong>Brine2D.Audio.ECS</strong></td>
<td>ECS audio systems</td>
<td><code>AudioSystem</code>, <code>AudioSourceComponent</code>, <code>AudioListenerComponent</code></td>
</tr>
</tbody>
</table>
<h3 id="rendering-modules">Rendering Modules<a class="headerlink" href="#rendering-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.Rendering</strong></td>
<td>Rendering abstractions and utilities</td>
<td><code>IRenderer</code>, <code>ICamera</code>, <code>Color</code>, <code>TextureAtlas</code>, <code>AtlasBuilder</code></td>
</tr>
<tr>
<td><strong>Brine2D.Rendering.SDL</strong></td>
<td>SDL3 rendering implementation</td>
<td><code>SDL3Renderer</code>, <code>SDL3GPURenderer</code>, <code>SDL3TextureLoader</code>, <code>SpriteBatcher</code></td>
</tr>
<tr>
<td><strong>Brine2D.Rendering.ECS</strong></td>
<td>ECS rendering systems</td>
<td><code>SpriteRenderingSystem</code>, <code>ParticleSystem</code></td>
</tr>
</tbody>
</table>
<h3 id="input-modules">Input Modules<a class="headerlink" href="#input-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.Input</strong></td>
<td>Input abstractions</td>
<td><code>IInputService</code>, <code>Keys</code>, <code>MouseButton</code>, <code>InputLayerManager</code></td>
</tr>
<tr>
<td><strong>Brine2D.Input.SDL</strong></td>
<td>SDL3 input implementation</td>
<td><code>SDL3InputService</code></td>
</tr>
</tbody>
</table>
<h3 id="audio-modules">Audio Modules<a class="headerlink" href="#audio-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.Audio</strong></td>
<td>Audio abstractions</td>
<td><code>IAudioService</code>, <code>ISoundEffect</code>, <code>IMusic</code></td>
</tr>
<tr>
<td><strong>Brine2D.Audio.SDL</strong></td>
<td>SDL3_mixer implementation</td>
<td><code>SDL3AudioService</code></td>
</tr>
<tr>
<td><strong>Brine2D.Audio.ECS</strong></td>
<td>ECS audio systems</td>
<td><code>AudioSystem</code>, <code>AudioSourceComponent</code>, <code>AudioListenerComponent</code></td>
</tr>
</tbody>
</table>
<h3 id="game-systems-modules">Game Systems Modules<a class="headerlink" href="#game-systems-modules" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Module</th>
<th>Purpose</th>
<th>Key Types</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Brine2D.Core.Collision</strong></td>
<td>Collision detection system</td>
<td><code>CollisionSystem</code>, <code>BoxCollider</code>, <code>CircleCollider</code></td>
</tr>
<tr>
<td><strong>Brine2D.Core.Animation</strong></td>
<td>Animation system</td>
<td><code>SpriteAnimator</code>, <code>AnimationClip</code></td>
</tr>
<tr>
<td><strong>Brine2D.Core.Tilemap</strong></td>
<td>Tilemap rendering</td>
<td><code>Tilemap</code>, <code>TilemapRenderer</code>, <code>TmjLoader</code></td>
</tr>
<tr>
<td><strong>Brine2D.UI</strong></td>
<td>UI framework</td>
<td><code>UICanvas</code>, <code>UIButton</code>, <code>UISlider</code>, <code>UITextInput</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="dependency-flow">Dependency Flow<a class="headerlink" href="#dependency-flow" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>graph LR
    subgraph "Abstractions (Interfaces)"
        CORE["Brine2D.Core"]
        RENDERING["Brine2D.Rendering"]
        INPUT["Brine2D.Input"]
        AUDIO["Brine2D.Audio"]
        ECS["Brine2D.ECS"]
    end

    subgraph "Implementations"
        SDL_RENDER["Brine2D.Rendering.SDL"]
        SDL_INPUT["Brine2D.Input.SDL"]
        SDL_AUDIO["Brine2D.Audio.SDL"]
    end

    subgraph "ECS Bridges"
        RENDER_ECS["Brine2D.Rendering.ECS"]
        INPUT_ECS["Brine2D.Input.ECS"]
        AUDIO_ECS["Brine2D.Audio.ECS"]
    end

    subgraph "Application"
        HOSTING["Brine2D.Hosting"]
        ENGINE["Brine2D.Engine"]
        GAME["Your Game"]
    end

    SDL_RENDER --&gt; RENDERING
    SDL_INPUT --&gt; INPUT
    SDL_AUDIO --&gt; AUDIO

    RENDER_ECS --&gt; RENDERING
    RENDER_ECS --&gt; ECS
    INPUT_ECS --&gt; INPUT
    INPUT_ECS --&gt; ECS
    AUDIO_ECS --&gt; AUDIO
    AUDIO_ECS --&gt; ECS

    ENGINE --&gt; CORE
    HOSTING --&gt; ENGINE
    HOSTING --&gt; RENDERING
    HOSTING --&gt; INPUT
    HOSTING --&gt; AUDIO

    GAME --&gt; HOSTING
    GAME --&gt; CORE
    GAME --&gt; RENDERING
    GAME --&gt; INPUT
    GAME --&gt; AUDIO
    GAME --&gt; ECS

    style CORE fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style RENDERING fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style INPUT fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style AUDIO fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style ECS fill:#3d3d2a,stroke:#dcdcaa,stroke-width:2px,color:#fff
    style SDL_RENDER fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style SDL_INPUT fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style SDL_AUDIO fill:#4a2d4a,stroke:#c586c0,stroke-width:2px,color:#fff
    style RENDER_ECS fill:#3d4a1f,stroke:#b5ce78,stroke-width:2px,color:#fff
    style INPUT_ECS fill:#3d4a1f,stroke:#b5ce78,stroke-width:2px,color:#fff
    style AUDIO_ECS fill:#3d4a1f,stroke:#b5ce78,stroke-width:2px,color:#fff
    style HOSTING fill:#1e3a5f,stroke:#569cd6,stroke-width:2px,color:#fff
    style ENGINE fill:#2d5016,stroke:#4ec9b0,stroke-width:2px,color:#fff
    style GAME fill:#264f78,stroke:#4fc1ff,stroke-width:2px,color:#fff</code></pre>
<p><strong>Key Principle:</strong> Abstractions (interfaces) never depend on implementations. Implementations depend on abstractions. This enables <strong>pluggable backends</strong> (SDL3, MonoGame, custom implementations).</p>
<hr />
<h2 id="layer-responsibilities">Layer Responsibilities<a class="headerlink" href="#layer-responsibilities" title="Permanent link">&para;</a></h2>
<h3 id="1-application-layer-brine2dhosting">1. Application Layer (<code>Brine2D.Hosting</code>)<a class="headerlink" href="#1-application-layer-brine2dhosting" title="Permanent link">&para;</a></h3>
<p><strong>Responsibility:</strong> Bootstrap and host the game application</p>
<p><strong>Key Classes:</strong>
- <code>GameApplication</code> - Main application host
- <code>GameApplicationBuilder</code> - Fluent API for configuration</p>
<p><strong>Pattern:</strong> Builder Pattern (like ASP.NET's <code>WebApplicationBuilder</code>)</p>
<pre class="highlight"><code class="language-csharp">var builder = GameApplication.CreateBuilder(args);

// Configure services
builder.Services.AddSDL3Rendering();
builder.Services.AddSDL3Input();
builder.Services.AddScene&lt;GameScene&gt;();

// Build and run
var game = builder.Build();
await game.RunAsync&lt;GameScene&gt;();</code></pre>
<hr />
<h3 id="2-engine-layer-brine2dengine">2. Engine Layer (<code>Brine2D.Engine</code>)<a class="headerlink" href="#2-engine-layer-brine2dengine" title="Permanent link">&para;</a></h3>
<p><strong>Responsibility:</strong> Coordinate game systems and manage the game loop</p>
<p><strong>Key Classes:</strong>
- <code>GameEngine</code> - Initializes and coordinates subsystems
- <code>GameLoop</code> - Manages update/render cycles
- <code>SceneManager</code> - Loads and manages scenes
- <code>GameContext</code> - Shared game state</p>
<p><strong>Pattern:</strong> Mediator Pattern (coordinates subsystems)</p>
<pre class="highlight"><code class="language-csharp">public class GameEngine : IGameEngine
{
    public async Task InitializeAsync(CancellationToken cancellationToken)
    {
        // Initialize renderer
        var renderer = _serviceProvider.GetService&lt;IRenderer&gt;();
        await renderer?.InitializeAsync(cancellationToken);

        // Initialize other subsystems...
    }
}</code></pre>
<hr />
<h3 id="3-core-layer-brine2dcore">3. Core Layer (<code>Brine2D.Core</code>)<a class="headerlink" href="#3-core-layer-brine2dcore" title="Permanent link">&para;</a></h3>
<p><strong>Responsibility:</strong> Define core abstractions and shared types</p>
<p><strong>Key Interfaces:</strong>
- <code>IScene</code> - Game scene abstraction
- <code>IGameLoop</code> - Game loop contract
- <code>IGameContext</code> - Shared game state
- <code>ISceneManager</code> - Scene management</p>
<p><strong>Key Types:</strong>
- <code>EventBus</code> - Global event system (moved from ECS in v0.7.0)</p>
<p><strong>Pattern:</strong> Interface Segregation (small, focused interfaces)</p>
<pre class="highlight"><code class="language-csharp">public interface IScene
{
    void Initialize();
    Task LoadAsync(CancellationToken cancellationToken);
    void Update(GameTime gameTime);
    void Render(GameTime gameTime);
    Task UnloadAsync(CancellationToken cancellationToken);
}</code></pre>
<hr />
<h3 id="4-rendering-layer">4. Rendering Layer<a class="headerlink" href="#4-rendering-layer" title="Permanent link">&para;</a></h3>
<h4 id="abstractions-brine2drendering">Abstractions (<code>Brine2D.Rendering</code>)<a class="headerlink" href="#abstractions-brine2drendering" title="Permanent link">&para;</a></h4>
<p><strong>Key Interfaces:</strong>
- <code>IRenderer</code> - Rendering operations
- <code>ITextureLoader</code> - Texture management
- <code>ICamera</code> - Camera abstraction
- <code>IFontLoader</code> - Font loading</p>
<p><strong>Key Types (Data &amp; Utilities):</strong>
- <code>Color</code> - RGBA color struct
- <code>Camera2D</code> - 2D camera with zoom/rotation
- <code>RenderingOptions</code> - Configuration options
- <code>TextureAtlas</code> - Runtime sprite packing utility <strong>(NEW in v0.8.0)</strong>
- <code>AtlasBuilder</code> - Intelligent bin packing algorithm <strong>(NEW in v0.8.0)</strong></p>
<h4 id="implementation-brine2drenderingsdl">Implementation (<code>Brine2D.Rendering.SDL</code>)<a class="headerlink" href="#implementation-brine2drenderingsdl" title="Permanent link">&para;</a></h4>
<p><strong>Key Classes:</strong>
- <code>SDL3Renderer</code> - Legacy SDL3 renderer
- <code>SDL3GPURenderer</code> - Modern GPU renderer
- <code>SDL3TextureLoader</code> - SDL3 texture loading
- <code>SDL3FontLoader</code> - SDL3_ttf font loading
- <code>SpriteBatcher</code> - Sprite batching utility with rotation support <strong>(Enhanced in v0.8.0)</strong></p>
<p><strong>Pattern:</strong> Strategy Pattern (swappable renderers)</p>
<pre class="highlight"><code class="language-csharp">// Choose renderer at startup
builder.Services.AddSDL3Rendering(options =&gt;
{
    options.Backend = GraphicsBackend.GPU; // or LegacyRenderer
});</code></pre>
<p><strong>Rendering Utilities:</strong></p>
<p>The rendering layer includes utilities that optimize rendering performance:</p>
<ul>
<li><strong>SpriteBatcher</strong> - Groups sprites by texture to reduce draw calls</li>
<li><strong>TextureAtlas</strong> - Packs multiple textures into one to eliminate texture switching</li>
<li><strong>AtlasBuilder</strong> - Intelligently arranges sprites using bin packing algorithm</li>
</ul>
<pre class="highlight"><code class="language-csharp">// Using texture atlas for performance
var atlas = await AtlasBuilder.BuildAtlasAsync(
    _renderer,
    _textureLoader,
    textures,
    padding: 2,
    maxSize: 2048
);

// Result: 100 sprites  1 draw call (90-99% reduction)</code></pre>
<h4 id="ecs-bridge-brine2drenderingecs">ECS Bridge (<code>Brine2D.Rendering.ECS</code>)<a class="headerlink" href="#ecs-bridge-brine2drenderingecs" title="Permanent link">&para;</a></h4>
<p><strong>Key Systems:</strong>
- <code>SpriteRenderingSystem</code> - Renders sprite components
- <code>ParticleSystem</code> - Advanced particle effects <strong>(Enhanced in v0.8.0)</strong>
- <code>CameraSystem</code> - Camera follow behavior</p>
<p><strong>New in v0.8.0:</strong>
- Particle textures with custom sprites
- Rotation (start, end, rotation speed)
- Trail effects with configurable length
- Blend modes (additive, alpha, none)
- 7 emitter shapes (point, circle, ring, box, cone, line, burst)</p>
<hr />
<h3 id="5-input-layer">5. Input Layer<a class="headerlink" href="#5-input-layer" title="Permanent link">&para;</a></h3>
<h4 id="abstractions-brine2dinput">Abstractions (<code>Brine2D.Input</code>)<a class="headerlink" href="#abstractions-brine2dinput" title="Permanent link">&para;</a></h4>
<p><strong>Key Interfaces:</strong>
- <code>IInputService</code> - Input polling
- <code>IInputLayer</code> - Layer-based input routing</p>
<p><strong>Key Types:</strong>
- <code>Keys</code> - Keyboard key enum
- <code>MouseButton</code> - Mouse button enum
- <code>GamepadButton</code> - Gamepad button enum
- <code>InputLayerManager</code> - Prioritized input processing</p>
<h4 id="implementation-brine2dinputsdl">Implementation (<code>Brine2D.Input.SDL</code>)<a class="headerlink" href="#implementation-brine2dinputsdl" title="Permanent link">&para;</a></h4>
<p><strong>Key Classes:</strong>
- <code>SDL3InputService</code> - SDL3 input polling</p>
<p><strong>Pattern:</strong> Observer Pattern (input events) + Priority Chain (input layers)</p>
<pre class="highlight"><code class="language-csharp">// Input layers (like middleware)
_inputLayerManager.RegisterLayer(_uiCanvas);    // Priority 1000 (high)
_inputLayerManager.RegisterLayer(_gameLayer);   // Priority 0 (low)

// UI consumes input first, game gets remainder
_inputLayerManager.ProcessInput();</code></pre>
<hr />
<h3 id="6-audio-layer">6. Audio Layer<a class="headerlink" href="#6-audio-layer" title="Permanent link">&para;</a></h3>
<h4 id="abstractions-brine2daudio">Abstractions (<code>Brine2D.Audio</code>)<a class="headerlink" href="#abstractions-brine2daudio" title="Permanent link">&para;</a></h4>
<p><strong>Key Interfaces:</strong>
- <code>IAudioService</code> - Audio playback
- <code>ISoundEffect</code> - Short sounds
- <code>IMusic</code> - Background music</p>
<h4 id="implementation-brine2daudiosdl">Implementation (<code>Brine2D.Audio.SDL</code>)<a class="headerlink" href="#implementation-brine2daudiosdl" title="Permanent link">&para;</a></h4>
<p><strong>Key Classes:</strong>
- <code>SDL3AudioService</code> - SDL3_mixer implementation with track callbacks <strong>(Enhanced in v0.8.0)</strong></p>
<p><strong>Pattern:</strong> Facade Pattern (simplifies SDL3_mixer)</p>
<pre class="highlight"><code class="language-csharp">// Simple API for audio
await _audio.LoadSoundAsync("jump.wav");
_audio.PlaySound(jumpSound);

await _audio.LoadMusicAsync("background.mp3");
_audio.PlayMusic(music, loops: -1);</code></pre>
<h4 id="ecs-bridge-brine2daudioecs-new-in-v080">ECS Bridge (<code>Brine2D.Audio.ECS</code>) <strong>(NEW in v0.8.0)</strong><a class="headerlink" href="#ecs-bridge-brine2daudioecs-new-in-v080" title="Permanent link">&para;</a></h4>
<p><strong>Key Components:</strong>
- <code>AudioListenerComponent</code> - Spatial audio listener (player/camera)
- <code>AudioSourceComponent</code> - Positioned audio sources</p>
<p><strong>Key Systems:</strong>
- <code>AudioSystem</code> - Updates spatial audio every frame</p>
<p><strong>Features:</strong>
- Distance-based volume attenuation
- Stereo panning based on position
- Configurable falloff curves (linear, quadratic, custom)
- Real-time spatial audio updates</p>
<pre class="highlight"><code class="language-csharp">// Create audio listener (player)
var player = _world.CreateEntity("Player");
var listener = player.AddComponent&lt;AudioListenerComponent&gt;();
listener.GlobalSpatialVolume = 1.0f;

// Create spatial audio source
var enemy = _world.CreateEntity("Enemy");
var audioSource = enemy.AddComponent&lt;AudioSourceComponent&gt;();
audioSource.SoundEffect = enemySound;
audioSource.EnableSpatialAudio = true;
audioSource.MinDistance = 100f;
audioSource.MaxDistance = 500f;
audioSource.RolloffFactor = 1.0f;
audioSource.SpatialBlend = 1.0f;
audioSource.PlayOnEnable = true;</code></pre>
<hr />
<h3 id="7-game-systems-layer">7. Game Systems Layer<a class="headerlink" href="#7-game-systems-layer" title="Permanent link">&para;</a></h3>
<p>Game systems manage game logic and state. Unlike rendering utilities (which optimize performance), game systems implement gameplay features.</p>
<p><strong>UI System</strong> (<code>Brine2D.UI</code>):
- <code>UICanvas</code> - Container for UI components
- <code>UIButton</code>, <code>UISlider</code>, <code>UITextInput</code>, etc. - Interactive components
- Input layer integration for event handling</p>
<p><strong>Collision System</strong> (<code>Brine2D.Core.Collision</code>):
- <code>CollisionSystem</code> - Manages collision shapes and detection
- <code>BoxCollider</code>, <code>CircleCollider</code> - Collision shapes
- Optional spatial partitioning for performance</p>
<p><strong>Animation System</strong> (<code>Brine2D.Core.Animation</code>):
- <code>SpriteAnimator</code> - Plays frame-based animations
- <code>AnimationClip</code> - Frame sequences
- <code>SpriteFrame</code> - Individual animation frames</p>
<p><strong>Tilemap System</strong> (<code>Brine2D.Core.Tilemap</code>):
- <code>Tilemap</code> - Tile-based level data
- <code>TilemapRenderer</code> - Renders tilemaps efficiently
- <code>TmjLoader</code> - Loads Tiled JSON format</p>
<hr />
<h2 id="design-patterns-used">Design Patterns Used<a class="headerlink" href="#design-patterns-used" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Where Used</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Builder</strong></td>
<td><code>GameApplicationBuilder</code></td>
<td>Fluent API for configuration</td>
</tr>
<tr>
<td><strong>Dependency Injection</strong></td>
<td>Everywhere</td>
<td>Loose coupling, testability</td>
</tr>
<tr>
<td><strong>Strategy</strong></td>
<td><code>IRenderer</code> implementations</td>
<td>Swappable rendering backends</td>
</tr>
<tr>
<td><strong>Facade</strong></td>
<td>Audio, Input services</td>
<td>Simplify complex SDL3 APIs</td>
</tr>
<tr>
<td><strong>Observer</strong></td>
<td>Input events, animations, EventBus</td>
<td>Event-driven behavior</td>
</tr>
<tr>
<td><strong>Component</strong></td>
<td>UI system, ECS</td>
<td>Composable elements</td>
</tr>
<tr>
<td><strong>Mediator</strong></td>
<td><code>GameEngine</code></td>
<td>Coordinate subsystems</td>
</tr>
<tr>
<td><strong>Template Method</strong></td>
<td><code>Scene</code> base class</td>
<td>Lifecycle hooks</td>
</tr>
<tr>
<td><strong>Chain of Responsibility</strong></td>
<td>Input layers</td>
<td>Prioritized input handling</td>
</tr>
<tr>
<td><strong>Object Pool</strong></td>
<td>Particle system</td>
<td>Zero-allocation particle reuse</td>
</tr>
<tr>
<td><strong>Bin Packing</strong></td>
<td><code>AtlasBuilder</code></td>
<td>Optimal texture packing <strong>(NEW)</strong></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="data-flow">Data Flow<a class="headerlink" href="#data-flow" title="Permanent link">&para;</a></h2>
<h3 id="initialization-flow">Initialization Flow<a class="headerlink" href="#initialization-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant U as User Code
    participant B as GameApplicationBuilder
    participant G as GameApplication
    participant E as GameEngine
    participant R as IRenderer
    participant S as SceneManager

    U-&gt;&gt;B: CreateBuilder(args)
    U-&gt;&gt;B: Services.AddSDL3Rendering()
    U-&gt;&gt;B: Services.AddScene&lt;GameScene&gt;()
    U-&gt;&gt;B: Build()
    B-&gt;&gt;G: new GameApplication(host)

    U-&gt;&gt;G: RunAsync&lt;GameScene&gt;()
    G-&gt;&gt;E: InitializeAsync()
    E-&gt;&gt;R: InitializeAsync()
    R-&gt;&gt;E: Initialized

    G-&gt;&gt;S: LoadSceneAsync&lt;GameScene&gt;()
    S-&gt;&gt;S: Resolve GameScene from DI
    S-&gt;&gt;S: scene.Initialize()
    S-&gt;&gt;S: scene.LoadAsync()

    G-&gt;&gt;G: Start Game Loop</code></pre>
<h3 id="game-loop-flow">Game Loop Flow<a class="headerlink" href="#game-loop-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant GL as GameLoop
    participant IN as InputService
    participant ILM as InputLayerManager
    participant SM as SceneManager
    participant SC as Scene
    participant ECS as EntityWorld
    participant AS as AudioSystem
    participant R as IRenderer

    loop Every Frame
        GL-&gt;&gt;IN: Update()
        IN-&gt;&gt;GL: Input Polled

        GL-&gt;&gt;ILM: ProcessInput()
        ILM-&gt;&gt;ILM: UI layer consumes?
        ILM-&gt;&gt;GL: Input ready

        GL-&gt;&gt;SM: Update(gameTime)
        SM-&gt;&gt;SC: OnUpdate(gameTime)
        SC-&gt;&gt;ECS: Update systems
        ECS-&gt;&gt;AS: Update spatial audio
        AS-&gt;&gt;ECS: Audio updated
        SC-&gt;&gt;SC: Game logic
        SC-&gt;&gt;SM: Done

        GL-&gt;&gt;SM: Render(gameTime)
        SM-&gt;&gt;SC: OnRender(gameTime)
        SC-&gt;&gt;R: Draw calls
        R-&gt;&gt;R: Present frame
        R-&gt;&gt;SC: Rendered

        GL-&gt;&gt;GL: Frame limiting
    end</code></pre>
<hr />
<h2 id="extension-points">Extension Points<a class="headerlink" href="#extension-points" title="Permanent link">&para;</a></h2>
<p>Brine2D is designed to be extended in several ways:</p>
<h3 id="1-custom-scenes">1. Custom Scenes<a class="headerlink" href="#1-custom-scenes" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-csharp">public class MyScene : Scene
{
    // Override lifecycle methods
    protected override void OnInitialize() { }
    protected override Task OnLoadAsync(CancellationToken ct) { }
    protected override void OnUpdate(GameTime gt) { }
    protected override void OnRender(GameTime gt) { }
}</code></pre>
<h3 id="2-custom-systems">2. Custom Systems<a class="headerlink" href="#2-custom-systems" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-csharp">// Create your own game system
public class WeatherSystem
{
    private float _rainIntensity;

    public void Update(float deltaTime)
    {
        // Weather logic
    }

    public void Render(IRenderer renderer)
    {
        // Render rain particles
    }
}

// Register with DI
builder.Services.AddSingleton&lt;WeatherSystem&gt;();

// Inject into scene
public class GameScene : Scene
{
    private readonly WeatherSystem _weather;

    public GameScene(WeatherSystem weather, ...) 
    {
        _weather = weather;
    }
}</code></pre>
<h3 id="3-custom-renderers">3. Custom Renderers<a class="headerlink" href="#3-custom-renderers" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-csharp">// Implement IRenderer
public class CustomRenderer : IRenderer
{
    // Implement all methods...
}

// Register
builder.Services.AddSingleton&lt;IRenderer, CustomRenderer&gt;();</code></pre>
<h3 id="4-custom-input-layers">4. Custom Input Layers<a class="headerlink" href="#4-custom-input-layers" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-csharp">// Implement IInputLayer
public class DebugInputLayer : IInputLayer
{
    public int Priority =&gt; 500; // Between UI and game

    public bool ProcessKeyboardInput(IInputService input)
    {
        if (input.IsKeyPressed(Keys.F1))
        {
            ToggleDebugMode();
            return true; // Consume input
        }
        return false;
    }
}

// Register
_inputLayerManager.RegisterLayer(debugLayer);</code></pre>
<h3 id="5-custom-audio-components-new-in-v080">5. Custom Audio Components <strong>(NEW in v0.8.0)</strong><a class="headerlink" href="#5-custom-audio-components-new-in-v080" title="Permanent link">&para;</a></h3>
<pre class="highlight"><code class="language-csharp">// Extend AudioSourceComponent for custom behavior
public class DynamicAudioComponent : Component
{
    private AudioSourceComponent? _audioSource;

    protected internal override void OnInitialize()
    {
        _audioSource = Entity?.GetComponent&lt;AudioSourceComponent&gt;();
    }

    protected internal override void OnUpdate(GameTime gameTime)
    {
        // Custom audio behavior (e.g., adjust volume based on health)
        if (_audioSource != null)
        {
            var health = Entity?.GetComponent&lt;HealthComponent&gt;();
            _audioSource.Volume = health != null ? health.Percentage : 1.0f;
        }
    }
}</code></pre>
<hr />
<h2 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">&para;</a></h2>
<h3 id="memory-management">Memory Management<a class="headerlink" href="#memory-management" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Object pooling</strong> - Particle system reuses particles (zero allocation)</li>
<li><strong>Scoped lifetimes</strong> - <code>CollisionSystem</code>, <code>UICanvas</code> are scoped per scene</li>
<li><strong>Singleton services</strong> - <code>IRenderer</code>, <code>IInputService</code> are singletons</li>
<li><strong>Struct types</strong> - <code>Color</code>, <code>GameTime</code>, <code>Vector2</code> are value types</li>
<li><strong>Texture atlasing</strong> - Combines textures to reduce memory and draw calls <strong>(NEW in v0.8.0)</strong></li>
</ul>
<h3 id="frame-budget">Frame Budget<a class="headerlink" href="#frame-budget" title="Permanent link">&para;</a></h3>
<p>At 60 FPS, each frame has ~16.67ms:</p>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Typical Budget</th>
</tr>
</thead>
<tbody>
<tr>
<td>Input</td>
<td>&lt;1ms</td>
</tr>
<tr>
<td>Update (Game Logic)</td>
<td>~8ms</td>
</tr>
<tr>
<td>Update (ECS Systems)</td>
<td>~2ms</td>
</tr>
<tr>
<td>Render</td>
<td>~5ms</td>
</tr>
<tr>
<td>Frame limiting</td>
<td>~1-2ms</td>
</tr>
</tbody>
</table>
<h3 id="optimization-techniques">Optimization Techniques<a class="headerlink" href="#optimization-techniques" title="Permanent link">&para;</a></h3>
<p><strong>Rendering Optimizations:</strong>
- <strong>Texture atlasing</strong> - <code>AtlasBuilder</code> combines textures (90-99% draw call reduction) <strong>(NEW)</strong>
- <strong>Sprite batching</strong> - <code>SpriteBatcher</code> groups draw calls by texture
- <strong>Culling</strong> - Only render visible objects (camera frustum)</p>
<p><strong>Game Systems Optimizations:</strong>
- <strong>Spatial partitioning</strong> - <code>CollisionSystem</code> supports grid partitioning
- <strong>Object pooling</strong> - Particle system uses <code>ObjectPool&lt;T&gt;</code>
- <strong>Cached queries</strong> - ECS queries with zero allocation</p>
<p><strong>General:</strong>
- <strong>Async loading</strong> - Load assets without blocking the game loop</p>
<hr />
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<p>Configuration flows through <code>IOptions&lt;T&gt;</code> pattern (ASP.NET style):</p>
<pre class="highlight"><code class="language-csharp">// gamesettings.json
{
  "Rendering": {
    "WindowTitle": "My Game",
    "WindowWidth": 1280,
    "WindowHeight": 720,
    "VSync": true,
    "Backend": "GPU"
  }
}

// Bind to options
builder.Services.AddSDL3Rendering(options =&gt;
{
    builder.Configuration.GetSection("Rendering").Bind(options);
});

// Access in code
public class MyScene : Scene
{
    private readonly RenderingOptions _options;

    public MyScene(IOptions&lt;RenderingOptions&gt; options, ...)
    {
        _options = options.Value;
    }
}</code></pre>
<hr />
<h2 id="thread-safety">Thread Safety<a class="headerlink" href="#thread-safety" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Main thread only</strong> - SDL3 requires all operations on the main thread</li>
<li><strong>Async loading</strong> - Use <code>Task.Run()</code> for CPU-bound work, return to main thread for SDL calls</li>
<li><strong>No parallelism</strong> - Game loop is single-threaded by design</li>
<li><strong>Audio callbacks</strong> - SDL3_mixer callbacks are thread-safe <strong>(Enhanced in v0.8.0)</strong></li>
</ul>
<pre class="highlight"><code class="language-csharp">protected override async Task OnLoadAsync(CancellationToken ct)
{
    // CPU-bound work (parsing JSON)
    var data = await Task.Run(() =&gt; LoadHeavyData(), ct);

    // SDL work (texture creation) - back on main thread
    _texture = await _textureLoader.LoadTextureAsync("sprite.png", ct);
}</code></pre>
<hr />
<h2 id="whats-new-in-v080">What's New in v0.8.0<a class="headerlink" href="#whats-new-in-v080" title="Permanent link">&para;</a></h2>
<h3 id="rendering-utilities">Rendering Utilities<a class="headerlink" href="#rendering-utilities" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>TextureAtlas</strong> - Runtime sprite packing for massive draw call reduction</li>
<li><strong>AtlasBuilder</strong> - Intelligent bin packing algorithm (90-99% fewer draw calls)</li>
<li><strong>SpriteBatcher enhancements</strong> - Rotation support and better batching</li>
</ul>
<h3 id="spatial-audio-ecs">Spatial Audio (ECS)<a class="headerlink" href="#spatial-audio-ecs" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>AudioListenerComponent</strong> - Spatial audio listener</li>
<li><strong>AudioSourceComponent</strong> - Positioned audio sources with distance attenuation</li>
<li><strong>AudioSystem</strong> - Real-time spatial audio updates with stereo panning</li>
</ul>
<h3 id="enhanced-particle-system-ecs">Enhanced Particle System (ECS)<a class="headerlink" href="#enhanced-particle-system-ecs" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Particle textures</strong> - Custom sprite textures instead of circles</li>
<li><strong>Rotation</strong> - Start, end, and rotation speed properties</li>
<li><strong>Trails</strong> - Motion trails with configurable length</li>
<li><strong>Blend modes</strong> - Additive, alpha, and none</li>
<li><strong>7 emitter shapes</strong> - Point, circle, ring, box, cone, line, burst</li>
</ul>
<h3 id="audio-improvements">Audio Improvements<a class="headerlink" href="#audio-improvements" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Track callbacks</strong> - SDL3_mixer callbacks for proper lifecycle</li>
<li><strong>Thread-safe</strong> - Improved callback handling</li>
</ul>
<hr />
<h2 id="conceptual-distinctions">Conceptual Distinctions<a class="headerlink" href="#conceptual-distinctions" title="Permanent link">&para;</a></h2>
<p>Understanding the difference between <strong>rendering utilities</strong> and <strong>game systems</strong> helps clarify Brine2D's architecture:</p>
<h3 id="rendering-utilities-performance">Rendering Utilities (Performance)<a class="headerlink" href="#rendering-utilities-performance" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose</strong>: Optimize rendering performance</li>
<li><strong>Examples</strong>: <code>SpriteBatcher</code>, <code>TextureAtlas</code>, <code>AtlasBuilder</code></li>
<li><strong>Location</strong>: <code>Brine2D.Rendering</code> / <code>Brine2D.Rendering.SDL</code></li>
<li><strong>Focus</strong>: Draw call reduction, batching, memory optimization</li>
</ul>
<h3 id="game-systems-logic-state">Game Systems (Logic &amp; State)<a class="headerlink" href="#game-systems-logic-state" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Purpose</strong>: Implement gameplay features and manage state</li>
<li><strong>Examples</strong>: <code>CollisionSystem</code>, <code>UICanvas</code>, <code>SpriteAnimator</code>, <code>TilemapRenderer</code></li>
<li><strong>Location</strong>: <code>Brine2D.Core.*</code> / <code>Brine2D.UI</code></li>
<li><strong>Focus</strong>: Game logic, user interaction, entity management</li>
</ul>
<hr />
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><a href="../dependency-injection/">Dependency Injection</a></strong> - Master the DI container</li>
<li><strong><a href="../builder-pattern/">Builder Pattern</a></strong> - Learn <code>GameApplicationBuilder</code></li>
<li><strong><a href="../scenes/">Scene Management</a></strong> - Organize your game</li>
<li><strong><a href="../game-loop/">Game Loop</a></strong> - Understand frame processing</li>
<li><strong><a href="../entity-component-system/">Entity Component System</a></strong> - ECS architecture</li>
</ul>
<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>Brine2D's architecture is:
-  <strong>Modular</strong> - Clear separation of concerns
-  <strong>Extensible</strong> - Plugin your own implementations
-  <strong>Testable</strong> - Dependency injection everywhere
-  <strong>Familiar</strong> - ASP.NET patterns throughout
-  <strong>Performant</strong> - Designed for real-time games with modern optimizations
-  <strong>Production-Ready</strong> - Texture atlasing, spatial audio, advanced particles <strong>(v0.8.0)</strong></p>
<p>Ready to dive deeper? Explore <a href="../dependency-injection/">Dependency Injection</a> next!</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
      
    
  </body>
</html>